# azure-pipelines-frontend.yml
trigger:
  branches:
    include:
      - main
  paths:
    include:
      - '**/SaveTheCat.Frontend/**' # Solo se ejecuta si cambias el front

variables:
  # Ruta ajustada a tu carpeta
  appLocation: 'simonholmquist/savethecat/SaveTheCat.Frontend'
  outputLocation: 'dist'

pool:
  vmImage: 'ubuntu-latest'

steps:
- checkout: self
  submodules: true

- task: AzureStaticWebApp@0
  displayName: 'Build and Deploy Frontend'
  inputs:
    app_location: '$(appLocation)'
    output_location: '$(outputLocation)'
    # El token se debe configurar en las variables del pipeline (ver abajo)
    azure_static_web_apps_api_token: $(deployment_token)